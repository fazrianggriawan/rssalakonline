
<div class="container-fluid p-4">
    <div class="row justify-content-center">
        <div class="col-lg-4 col-md-7 col-sm-12">
            <h5 class="text-white text-center mt-3">
                PELAYANAN ONLINE<br>
                TERINTEGRASI
            </h5>
            <div class="p-4 bg-gray-100 shadow mt-4" style="background-color: white; border-radius: 15px;">
                <div class="text-center mt-3 mb-3">
                    <img src="assets/logo.png" width="70%" class="mb-3">
                </div>
                <div *ngIf="!pasien">
                    <div class="mb-3">
                        <input type="text" [(ngModel)]="nomorPasien" placeholder="No. Rekam Medis / BPJS / NIK" class="form-control text-center shadow-sm" maxlength="16">
                    </div>
                    <div class="d-grid gap-2 mb-4">
                        <button class="btn btn-md btn-success" type="button" (click)="getPasien()">Lanjutkan</button>
                    </div>
                </div>
                <div *ngIf="pasien">
                    <small class="text-muted">Data Pasien</small>
                    <div class="bold">{{pasien.nama | uppercase}}</div>
                    <div>
                        <span *ngIf="pasien.kelamin == 'L'">LAKI-LAKI</span>
                        <span *ngIf="pasien.kelamin == 'P'">PEREMPUAN</span>
                    </div>
                    <div>{{pasien.alamat}}</div>
                    <hr>
                    <div class="row">
                        <div class="col">
                            <small class="text-muted">No. Rekam Medis</small>
                            <div>{{pasien.norekmed}}</div>
                        </div>
                        <div class="col">
                            <small class="text-muted">No. BPJS</small>
                            <div>{{pasien.noaskes}}</div>
                        </div>
                    </div>
                    <div *ngIf="peserta">
                        <div class="row" *ngIf="statusPeserta != '0'">
                            <div class="col mt-2 p-3 text-center bg-white rounded border text-muted">
                                Pelayanan Tidak Dapat Dilanjutkan<br/>
                                Status Peserta : {{peserta.statusPeserta.keterangan | uppercase}}
                            </div>
                        </div>
                    </div>
                    <div class="mt-3">
                        <label for="Sesi Kunjungan" class="text-muted">Sesi Kunjungan</label>
                        <select class="form-select" placeholder="Pilih Sesi Kunjungan" (ngModelChange)="onChangeSesi($event)" [(ngModel)]="sesiKunjungan">
                            <option value=""></option>
                            <option value="{{item.id}}" *ngFor="let item of dataSesiKunjungan">{{item.name}}</option>
                        </select>
                    </div>
                    <div class="text-center rounded-3 bg-warning p-2 mt-3" *ngIf="sesiKunjungan">
                        <div>Mohon untuk datang antara jam {{sesiKunjungan.start}} s.d. {{sesiKunjungan.end}}</div>
                        <div>Untuk melakukan proses Check-In dan Pembuatan SEP.</div>
                    </div>
                    <div class="d-grid gap-2 mb-4 mt-4">
                        <button [disabled]="!peserta || statusPeserta != '0' || !sesiKunjungan" class="btn btn-primary" type="button" (click)="next()">Lanjutkan</button>
                    </div>
                    <button class="btn btn-sm btn-outline-secondary" (click)="pasien=''"><i class="bi bi-chevron-left mr-1"></i> Kembali</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div style="position: fixed; bottom: 0; width: 100%; left: 0; z-index: -1;">
    <svg width="100%" height="100%" id="svg" viewBox="0 0 1440 600" xmlns="http://www.w3.org/2000/svg" class="transition duration-300 ease-in-out delay-150"><defs><linearGradient id="gradient" x1="0%" y1="51%" x2="100%" y2="49%"><stop offset="5%" stop-color="#ff690088"></stop><stop offset="95%" stop-color="#00d08488"></stop></linearGradient></defs><path d="M 0,600 C 0,600 0,200 0,200 C 126.64114832535887,231.5311004784689 253.28229665071774,263.0622009569378 341,240 C 428.71770334928226,216.9377990430622 477.51196172248797,139.2822966507177 568,143 C 658.488038277512,146.7177033492823 790.66985645933,231.80861244019138 896,244 C 1001.33014354067,256.1913875598086 1079.8086124401914,195.48325358851676 1166,176 C 1252.1913875598086,156.51674641148324 1346.0956937799042,178.25837320574163 1440,200 C 1440,200 1440,600 1440,600 Z" stroke="none" stroke-width="0" fill="url(#gradient)" class="transition-all duration-300 ease-in-out delay-150 path-0"></path><defs><linearGradient id="gradient" x1="0%" y1="51%" x2="100%" y2="49%"><stop offset="5%" stop-color="#ff6900ff"></stop><stop offset="95%" stop-color="#00d084ff"></stop></linearGradient></defs><path d="M 0,600 C 0,600 0,400 0,400 C 67.75119617224877,435.07177033492826 135.50239234449754,470.14354066985646 235,468 C 334.49760765550246,465.85645933014354 465.7416267942584,426.49760765550246 575,391 C 684.2583732057416,355.50239234449754 771.5311004784689,323.86602870813397 860,345 C 948.4688995215311,366.13397129186603 1038.1339712918661,440.0382775119617 1135,458 C 1231.8660287081339,475.9617224880383 1335.933014354067,437.98086124401914 1440,400 C 1440,400 1440,600 1440,600 Z" stroke="none" stroke-width="0" fill="url(#gradient)" class="transition-all duration-300 ease-in-out delay-150 path-1"></path></svg>
</div>

<app-error-handle></app-error-handle>