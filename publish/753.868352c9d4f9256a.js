"use strict";(self.webpackChunkrssalakonline=self.webpackChunkrssalakonline||[]).push([[753],{7753:(O,h,s)=>{s.r(h),s.d(h,{AnjunganModule:()=>C});var u=s(9808),g=s(4796),e=s(5e3);let k=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-anjungan"]],decls:46,vars:0,consts:[[1,"container-fluid","panel-kiosk"],[1,"row","mb-4","header-kiosk","pb-4"],[1,"d-block","d-md-none"],[1,"col-sm-12","p-3","pb-0","mb-0"],["src","assets/logo.png","alt","Logo Salak","height","50px"],["src","assets/hesti.png","alt","Logo Salak","height","50px"],["src","assets/kodam.png","alt","Logo Salak","height","50px"],[1,"col-sm-12","p-3","pt-0","pb-0"],[1,"mb-0","pb-0","pt-2"],[1,"mt-0","pt-0","display-6"],[1,"col-sm-2","col-md-2","ps-5","pt-4","text-end","d-none","d-md-block"],["src","assets/logo.png","alt","Logo Salak",2,"height","80px"],[1,"col-sm-10","col-md-7","p-4","pb-0","d-none","d-md-block"],[1,"mt-0","pt-0","fs-4"],[1,"col-md-2","p-4","d-none","d-md-block"],[1,"row","button-group","justify-content-center","p-3"],["pRipple","",1,"col-sm-5","col-lg-4","m-2","p-0","pb-2","clickable","bg-white","shadow","border","rounded","btn-bpjs",3,"click"],[1,"p-4"],[1,"ps-4","pe-4","pt-1"],["pRipple","",1,"col-sm-5","col-lg-4","m-2","p-0","pb-2","clickable","bg-white","shadow","border","rounded","btn-tunai",3,"click"],["pRipple","",1,"col-sm-5","col-lg-4","m-2","p-0","pb-3","clickable","bg-white","shadow","border","rounded","btn-pasien-baru",3,"click"],["pRipple","",1,"col-sm-5","col-lg-4","m-2","p-0","pb-3","clickable","bg-white","shadow","border","rounded","btn-online",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e._UZ(4,"img",4),e._uU(5," \xa0 "),e._UZ(6,"img",5),e._UZ(7,"img",6),e.qZA(),e.TgZ(8,"div",7),e.TgZ(9,"h1",8),e._uU(10,"RS SALAK BOGOR"),e.qZA(),e.TgZ(11,"h2",9),e._uU(12,"PELAYANAN MANDIRI TERINTEGRASI"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",10),e._UZ(14,"img",11),e.qZA(),e.TgZ(15,"div",12),e.TgZ(16,"h1",8),e._uU(17,"RS SALAK BOGOR"),e.qZA(),e.TgZ(18,"h2",13),e._uU(19,"PELAYANAN MANDIRI TERINTEGRASI"),e.qZA(),e.qZA(),e.TgZ(20,"div",14),e._UZ(21,"img",5),e._UZ(22,"img",6),e.qZA(),e.qZA(),e.TgZ(23,"div",15),e.TgZ(24,"div",16),e.NdJ("click",function(){return i.router.navigateByUrl("bpjs")}),e.TgZ(25,"h1",17),e._uU(26,"BPJS / KIS"),e.qZA(),e.TgZ(27,"p",18),e._uU(28,"Pasien peserta BPJS dan KIS."),e.qZA(),e.qZA(),e.TgZ(29,"div",19),e.NdJ("click",function(){return i.router.navigateByUrl("tunai")}),e.TgZ(30,"h1",17),e._uU(31,"TUNAI / UMUM / ASURANSI"),e.qZA(),e.TgZ(32,"p",18),e._uU(33,"Pasien dengan pembayaran pribadi atau Asuransi non BPJS."),e.qZA(),e.qZA(),e.TgZ(34,"div",20),e.NdJ("click",function(){return i.router.navigateByUrl("pasienBaru")}),e.TgZ(35,"h1",17),e._uU(36,"PASIEN BARU"),e.qZA(),e.TgZ(37,"p",18),e._uU(38,"Pengunjung baru yang belum memiliki nomor rekam medis."),e.qZA(),e.qZA(),e.TgZ(39,"div",21),e.NdJ("click",function(){return i.router.navigateByUrl("anjungan/registrasiOnline")}),e.TgZ(40,"h1",17),e._uU(41,"REGISTRASI "),e._UZ(42,"br"),e._uU(43," ONLINE"),e.qZA(),e.TgZ(44,"p",18),e._uU(45,"Pasien yang telah registrasi online dan memiliki kode booking."),e.qZA(),e.qZA(),e.qZA(),e.qZA())},styles:[""]}),n})();var c=s(9698),l=s(1135);let Z=(()=>{class n{constructor(){this.value=new l.X(""),this.enterAction=new l.X(!1)}getValue(){return this.value.asObservable()}getEnterAction(){return this.enterAction.asObservable()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _=s(520),v=s(5134);let A=(()=>{class n{constructor(t,i){this.http=t,this.loadingService=i,this.registrasiOnline=new l.X(""),this.peserta=new l.X(""),this.sep=new l.X("")}getBookingCode(t){this.loadingService.status.next(!0),this.http.get(c.v.api_vclaim("antrian/kodeBooking/"+t)).subscribe(i=>{200==i.code&&this.registrasiOnline.next(i.data),this.loadingService.status.next(!1)})}getPeserta(t){this.peserta.next(""),this.loadingService.status.next(!0),this.http.get(c.v.api_vclaim("peserta/nomorKartu/"+t)).subscribe(i=>{"200"==i.metaData.code&&this.peserta.next(i.response.peserta),this.loadingService.status.next(!1)})}createSep(t){this.sep.next(""),this.loadingService.status.next(!0),this.http.post(c.v.api_vclaim("sep/save"),t).subscribe(i=>{"200"==i.metaData.code?this.sep.next(i.response.sep):alert(i.metaData.message+" Hubungi loket pendaftaran untuk mendapatkan bantuan."),this.loadingService.status.next(!1)})}dateHuman(t){let i=t.split("-"),r=parseInt(i[1])-1;return i[2]+" "+["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"][r]+" "+i[0]}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(_.eN),e.LFG(v.b))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var p=s(3075);function b(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().keypadInput(r)}),e._uU(1),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function T(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().keypadInput(r)}),e._uU(1),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function f(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().keypadInput(r)}),e._uU(1),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function x(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().keypadInput(r)}),e._uU(1),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}let q=(()=>{class n{constructor(t){this.keyboardService=t,this.value="",this.number=[],this.qwerty1=[],this.qwerty2=[],this.qwerty3=[]}ngOnInit(){this.generateNumber(),this.qwerty1=["Q","W","E","R","T","Y","U","I","O","P"],this.qwerty2=["A","S","D","F","G","H","J","K","L"],this.qwerty3=["Z","X","C","V","B","N","M"]}keypadInput(t){this.value=this.value+t,this.keyboardService.value.next(this.value)}hapusNumber(){this.value=this.value.slice(0,-1),this.keyboardService.value.next(this.value)}generateNumber(){this.number=[];for(let t=1;t<=9;t++)this.number.push(t)}ok(){this.keyboardService.enterAction.next(!0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-numpad"]],decls:17,vars:4,consts:[[1,"row","justify-content-center"],["style","padding: 10px 40px;","class","col-auto m-1 text-center fs-3 rounded clickable border","pRipple","",3,"click",4,"ngFor","ngForOf"],["pRipple","",1,"col-auto","m-1","text-center","fs-3","rounded","clickable","border",2,"padding","10px 40px",3,"click"],[1,"w-100"],[1,"col-auto"],["pRipple","",1,"col-auto","m-1","text-center","fs-3","rounded","clickable","border","bg-warning","fs-5",2,"padding","10px 40px",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,b,2,1,"div",1),e.TgZ(2,"div",2),e.NdJ("click",function(){return i.keypadInput("0")}),e._uU(3,"0"),e.qZA(),e._UZ(4,"div",3),e.YNc(5,T,2,1,"div",1),e._UZ(6,"div",3),e.YNc(7,f,2,1,"div",1),e._UZ(8,"div",3),e.YNc(9,x,2,1,"div",1),e.qZA(),e.TgZ(10,"div",0),e.TgZ(11,"div",4),e.TgZ(12,"div",5),e.NdJ("click",function(){return i.hapusNumber()}),e._uU(13,"HAPUS"),e.qZA(),e.qZA(),e.TgZ(14,"div",4),e.TgZ(15,"div",5),e.NdJ("click",function(){return i.ok()}),e._uU(16,"ENTER"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.number),e.xp6(4),e.Q6J("ngForOf",i.qwerty1),e.xp6(2),e.Q6J("ngForOf",i.qwerty2),e.xp6(2),e.Q6J("ngForOf",i.qwerty3))},directives:[u.sg],styles:[""]}),n})();const j=["search"];function S(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18),e.TgZ(1,"input",19,20),e.NdJ("keydown",function(a){return e.CHM(t),e.oxw().listenKey(a)})("blur",function(){return e.CHM(t),e.oxw().onBlur()})("ngModelChange",function(a){return e.CHM(t),e.oxw().kodeBooking=a}),e.qZA(),e.TgZ(3,"p",21),e._uU(4," KODE BOOKING "),e._UZ(5,"br"),e._uU(6," Scan QR Code / Input Keyboard "),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("value",t.kodeBooking),e.Q6J("ngModel",t.kodeBooking)}}function U(n,o){1&n&&(e.TgZ(0,"div",22),e._UZ(1,"app-numpad"),e.qZA())}function N(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23),e.TgZ(1,"div",24),e.TgZ(2,"div",25),e.TgZ(3,"div",26),e._uU(4," DATA "),e._UZ(5,"br"),e._uU(6," REGISTRASI "),e.qZA(),e.TgZ(7,"div",27),e.TgZ(8,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw().reset()}),e._UZ(9,"i",29),e._uU(10,"\xa0 KEMBALI"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",30),e.TgZ(12,"div"),e.TgZ(13,"div",31),e._uU(14),e.qZA(),e.TgZ(15,"div"),e._uU(16),e.qZA(),e._UZ(17,"hr"),e.TgZ(18,"div",32),e.TgZ(19,"div",33),e._uU(20,"KODE BOOKING"),e.qZA(),e.TgZ(21,"div",34),e._uU(22),e.qZA(),e.qZA(),e.TgZ(23,"div",35),e.TgZ(24,"div",36),e._uU(25,"JADWAL DOKTER"),e.qZA(),e.TgZ(26,"div",37),e.TgZ(27,"div",3),e.TgZ(28,"div",38),e.TgZ(29,"div"),e.TgZ(30,"small",33),e._uU(31,"POLIKLINIK"),e.qZA(),e._UZ(32,"br"),e._uU(33),e.ALo(34,"uppercase"),e.qZA(),e.TgZ(35,"div"),e._uU(36),e.ALo(37,"uppercase"),e.qZA(),e.TgZ(38,"div"),e._uU(39),e.ALo(40,"uppercase"),e.qZA(),e.qZA(),e.TgZ(41,"div",38),e.TgZ(42,"div"),e.TgZ(43,"small",33),e._uU(44,"DOKTER"),e.qZA(),e._UZ(45,"br"),e._uU(46),e.ALo(47,"uppercase"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",35),e.TgZ(49,"div",36),e._uU(50,"NO. SURAT RUJUKAN"),e.qZA(),e.TgZ(51,"div",37),e.TgZ(52,"div",39),e._uU(53),e.ALo(54,"uppercase"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"div",35),e.TgZ(56,"div",40),e.TgZ(57,"button",41),e.NdJ("click",function(){return e.CHM(t),e.oxw().checkIn()}),e._UZ(58,"span",42),e._uU(59,"\xa0 CHECK IN"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(14),e.Oqu(t.registrasi.nama),e.xp6(2),e.Oqu(t.pasien.alamat),e.xp6(6),e.hij(" ",t.registrasi.booking_code," "),e.xp6(11),e.hij(" ",e.lcZ(34,9,t.jadwalDokter.namapoli)," "),e.xp6(3),e.AsE("",e.lcZ(37,11,t.jadwalDokter.namahari),", ",t.anjunganService.dateHuman(t.registrasi.tgl_kunjungan),""),e.xp6(3),e.Oqu(e.lcZ(40,13,t.jadwalDokter.jadwal)),e.xp6(7),e.hij(" ",e.lcZ(47,15,t.jadwalDokter.namadokter)," "),e.xp6(7),e.Oqu(e.lcZ(54,17,t.rujukan.noKunjungan))}}let d=(()=>{class n{constructor(t,i){this.keyboardService=t,this.anjunganService=i,this.kodeBooking="",this.registrasi="",this.pasien="",this.rujukan="",this.jadwalDokter="",this.suratKontrol="",this.peserta="",this.sep=""}ngOnInit(){this.keyboardService.getValue().subscribe(t=>this.kodeBooking=t),this.anjunganService.registrasiOnline.subscribe(t=>this.handleDataBooking(t)),this.anjunganService.peserta.subscribe(t=>this.peserta=t),this.anjunganService.sep.subscribe(t=>{t&&(this.sep=t,this.printAnjungan(this.sep.noSep,this.registrasi.booking_code))}),this.keyboardService.getEnterAction().subscribe(t=>{t&&this.anjunganService.getBookingCode(this.kodeBooking)}),this.onBlur()}handleDataBooking(t){this.reset(),t&&(this.registrasi=t,this.rujukan=JSON.parse(t.rujukan),this.jadwalDokter=JSON.parse(t.jadwalDokter),this.pasien=JSON.parse(t.pasien),this.suratKontrol=JSON.parse(t.suratKontrol),this.anjunganService.getPeserta(this.pasien.noaskes))}reset(){this.kodeBooking="",this.registrasi="",this.rujukan="",this.pasien="",this.suratKontrol="",this.sep="",this.onBlur()}listenKey(t){"Enter"==t.key&&this.anjunganService.getBookingCode(this.kodeBooking)}onBlur(){setTimeout(()=>{this.searchElement&&this.searchElement.nativeElement.focus()},200)}createSep(){let t={noKartu:this.rujukan.peserta.noKartu,tglSep:"2022-07-21",jnsPelayanan:"2",hakKelas:this.rujukan.peserta.hakKelas,naikKelas:"",naikKelasPembiayaan:"",naikKelasPenanggungJawab:"",norm:this.rujukan.peserta.mr.noMR,rujukan:{asalFaskes:this.rujukan.asalFaskes.kode,rujukan:this.rujukan},catatan:"-",diagnosa:this.rujukan.diagnosa,poliklinik:{kode:this.jadwalDokter.kodepoli,nama:this.jadwalDokter.namapoli},poliklinikEks:"0",cob:"0",katarak:"0",isLakaLantas:"0",lakaNoLp:"",lakaTglKejadian:"",lakaKeterangan:"",lakaSuplesi:"",lakaNoSuplesi:"",lakaPropinsi:"",lakaKabupaten:"",lakaKecamatan:"",tujuanKunj:"",flagProcedure:"",kdPenunjang:"",assessmentPel:"",skdp:{noSuratKontrol:"",kodeDokter:""},dokter:{kode:this.jadwalDokter.kodedokter,nama:this.jadwalDokter.namadokter},tlp:this.rujukan.peserta.mr.noTelepon};"3"==this.registrasi.jns_kunjungan?(t.tujuanKunj="2",t.flagProcedure="",t.assessmentPel="5",t.skdp.noSuratKontrol=this.suratKontrol.noSuratKontrol,t.skdp.kodeDokter=this.jadwalDokter.kodedokter):(t.tujuanKunj="0",t.flagProcedure=""),this.jadwalDokter.kodepoli!=this.rujukan.poliRujukan.kode&&(t.tujuanKunj="0",t.flagProcedure="",t.assessmentPel="1"),this.anjunganService.createSep(t)}checkIn(){this.createSep()}printAnjungan(t,i){document.getElementById("iframePrintSep").src=c.v.api_vclaim("sep/print/anjungan/"+t+"/"+i),document.getElementById("iframePrintBooking").src=c.v.api_vclaim("sep/print/booking/"+i),this.reset()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z),e.Y36(A))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-registrasi-online"]],viewQuery:function(t,i){if(1&t&&e.Gf(j,5),2&t){let a;e.iGM(a=e.CRH())&&(i.searchElement=a.first)}},decls:25,vars:3,consts:[[2,"position","fixed","height","100%","width","100%","overflow","hidden"],[1,"row","justify-content-center","p-3","bg-dark","text-white"],[1,"col-md-10"],[1,"row"],[1,"col-sm-2","col-md-2","text-end","d-none","d-md-block"],["src","assets/logo.png","alt","Logo Salak",2,"height","50px"],[1,"col-sm-10","col-md-7","d-none","d-md-block"],[1,"fs-3","mb-0"],[1,"col-md-2","d-none","d-md-block"],["src","assets/hesti.png","alt","Logo Salak","height","50px"],["src","assets/kodam.png","alt","Logo Salak","height","50px"],[1,"row","justify-content-center"],[1,"fs-3","text-center","p-3"],["class","col-md-5 text-center",4,"ngIf"],["class","col-md-12 text-center",4,"ngIf"],["class","col-md-7",4,"ngIf"],["src","./","id","iframePrintSep","frameborder","0","width","300px","height","300px;","hidden",""],["src","./","id","iframePrintBooking","frameborder","0","width","300px","height","300px;","hidden",""],[1,"col-md-5","text-center"],["type","text",1,"form-control","p-2","fs-1","text-center","text-white","bg-success",2,"text-transform","uppercase",3,"ngModel","value","keydown","blur","ngModelChange"],["search",""],[1,"text-muted","mt-2"],[1,"col-md-12","text-center"],[1,"col-md-7"],[1,"row","border"],[1,"col-auto","text-white","p-4","bg-primary",2,"position","relative"],[2,"line-height","2rem","font-size","2rem","font-weight","500"],[1,"d-grid","gap-2",2,"position","absolute","bottom","27px","width","80%"],[1,"btn","p-3","btn-outline-light",3,"click"],[1,"bi","bi-chevron-left"],[1,"col","p-4"],[1,"fs-4","bold"],[1,"text-center"],[1,"text-muted"],[1,"p-2","bg-light","rounded","border","fs-4"],[1,"mt-3"],[1,"text-center","text-muted"],[1,"p-2","bg-light","rounded","border"],[1,"col"],[1,"fs-5","text-center"],[1,"d-grid","gap-2"],["type","button",1,"btn","fs-5","btn-success","p-3",3,"click"],[1,"bi","bi-check2-circle"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.qZA(),e.TgZ(6,"div",6),e.TgZ(7,"h1",7),e._uU(8,"RS SALAK BOGOR"),e.qZA(),e.TgZ(9,"div"),e._uU(10,"PELAYANAN MANDIRI TERINTEGRASI"),e.qZA(),e.qZA(),e.TgZ(11,"div",8),e._UZ(12,"img",9),e._UZ(13,"img",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",11),e.TgZ(15,"h1",12),e._uU(16,"REGISTRASI ONLINE"),e.qZA(),e.YNc(17,S,7,2,"div",13),e.qZA(),e.TgZ(18,"div",11),e.YNc(19,U,2,0,"div",14),e.qZA(),e.TgZ(20,"div",11),e.YNc(21,N,60,19,"div",15),e.qZA(),e.TgZ(22,"div"),e._UZ(23,"iframe",16),e._UZ(24,"iframe",17),e.qZA(),e.qZA()),2&t&&(e.xp6(17),e.Q6J("ngIf",!i.registrasi),e.xp6(2),e.Q6J("ngIf",!i.registrasi),e.xp6(2),e.Q6J("ngIf",i.registrasi))},directives:[u.O5,p.Fj,p.JJ,p.On,q],pipes:[u.gd],styles:[""]}),n})();const y=[{path:"",component:k},{path:"registrasiOnline",component:d},{path:"tunai",component:d},{path:"bpjs",component:d},{path:"pasienBaru",component:d}];let w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.Bz.forChild(y)],g.Bz]}),n})(),C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.ez,p.u5,w]]}),n})()}}]);