"use strict";(self.webpackChunkrssalakonline=self.webpackChunkrssalakonline||[]).push([[892],{6892:(se,h,o)=>{o.r(h),o.d(h,{RegistrasiModule:()=>te});var l=o(9808),g=o(5020),e=o(7587),d=o(7419),u=o(2382),p=o(5315),m=o(9783),f=o(6599),_=o(7773);function b(i,a){if(1&i&&(e.TgZ(0,"div",2),e.TgZ(1,"div",3),e._UZ(2,"i",4),e.TgZ(3,"h4"),e._uU(4),e.qZA(),e.TgZ(5,"div"),e.TgZ(6,"div"),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const n=a.$implicit;e.xp6(4),e.Oqu(n.summary),e.xp6(3),e.Oqu(n.detail)}}let Z=(()=>{class i{constructor(n,t){this.messageService=n,this.errorMessageService=t}ngOnInit(){this.errorMessageService.errorMessage.subscribe(n=>{n&&(this.messageService.clear(),this.messageService.add({severity:"warn",life:5e3,detail:n}))})}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(m.ez),e.Y36(f.G))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-error-handle"]],features:[e._Bn([m.ez])],decls:2,vars:0,consts:[["position","center"],["pTemplate","message"],[1,"flex","flex-column",2,"flex","1"],[1,"text-center"],[1,"bi","bi-exclamation-circle",2,"font-size","2rem"]],template:function(n,t){1&n&&(e.TgZ(0,"p-toast",0),e.YNc(1,b,8,2,"ng-template",1),e.qZA())},directives:[_.FN,m.jx],styles:[""]}),i})();function j(i,a){1&i&&e._UZ(0,"i",37)}function U(i,a){if(1&i&&(e.TgZ(0,"div",48),e.TgZ(1,"small"),e._uU(2,"Masa berlaku rujukan sampai "),e._UZ(3,"br"),e._uU(4),e.TgZ(5,"strong"),e._uU(6),e.qZA(),e.qZA(),e.qZA()),2&i){const n=e.oxw(2);e.xp6(4),e.hij(" ",n.registrasiOnlineService.dateHuman(n.rujukan.expired)," "),e.xp6(2),e.hij("(",n.rujukan.hariExpired," hari lagi)")}}function x(i,a){if(1&i&&(e.TgZ(0,"div",49),e.TgZ(1,"small"),e._uU(2,"Masa berlaku rujukan sudah "),e._UZ(3,"br"),e._uU(4," habis sejak : "),e.TgZ(5,"strong"),e._uU(6),e.qZA(),e.qZA(),e.qZA()),2&i){const n=e.oxw(2);e.xp6(6),e.Oqu(n.registrasiOnlineService.dateHuman(n.rujukan.expired))}}function C(i,a){if(1&i){const n=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).dialogDataRujukan=!0}),e._uU(1,"Ganti Rujukan"),e.qZA()}}function w(i,a){if(1&i&&(e.TgZ(0,"div",38),e.TgZ(1,"div",9),e.TgZ(2,"div",39),e.TgZ(3,"small",7),e._uU(4,"No. Rujukan : "),e.qZA(),e.TgZ(5,"strong"),e._uU(6),e.qZA(),e.qZA(),e.qZA(),e._UZ(7,"hr"),e.TgZ(8,"div",9),e.TgZ(9,"div",40),e.TgZ(10,"small",7),e._uU(11,"Asal Rujukan"),e.qZA(),e.TgZ(12,"div"),e.TgZ(13,"span"),e._uU(14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",40),e.TgZ(16,"small",7),e._uU(17,"Tgl. Rujukan"),e.qZA(),e.TgZ(18,"div"),e.TgZ(19,"span"),e._uU(20),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",9),e.TgZ(22,"div",40),e.TgZ(23,"small",7),e._uU(24,"Jns. Perawatan"),e.qZA(),e.TgZ(25,"div"),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"uppercase"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",40),e.TgZ(30,"small",7),e._uU(31,"Poliklinik Tujuan"),e.qZA(),e.TgZ(32,"div"),e.TgZ(33,"span"),e._uU(34),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",41),e.TgZ(36,"div",39),e.TgZ(37,"div",42),e.TgZ(38,"small",7),e._uU(39,"Diagnosa"),e.qZA(),e.TgZ(40,"div"),e.TgZ(41,"span"),e._uU(42),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",43),e.TgZ(44,"small"),e._uU(45,"Rujukan ini sudah terpakai sebanyak : "),e.TgZ(46,"b"),e._uU(47),e.qZA(),e.qZA(),e.qZA(),e.YNc(48,U,7,2,"div",44),e.YNc(49,x,7,1,"div",45),e.TgZ(50,"div",46),e.YNc(51,C,2,0,"button",47),e.qZA(),e.qZA()),2&i){const n=e.oxw();e.xp6(6),e.Oqu(n.rujukan.noKunjungan),e.xp6(8),e.Oqu(n.rujukan.provPerujuk.nama),e.xp6(6),e.Oqu(n.registrasiOnlineService.dateHuman(n.rujukan.tglKunjungan)),e.xp6(7),e.Oqu(e.lcZ(28,11,n.rujukan.pelayanan.nama)),e.xp6(7),e.Oqu(n.rujukan.poliRujukan.nama),e.xp6(8),e.AsE("",n.rujukan.diagnosa.kode," - ",n.rujukan.diagnosa.nama,""),e.xp6(5),e.hij("",n.jumlahSepRujukan,"x"),e.xp6(1),e.Q6J("ngIf",n.rujukan.hariExpired>0),e.xp6(1),e.Q6J("ngIf",n.rujukan.hariExpired<0),e.xp6(2),e.Q6J("ngIf",n.rujukan)}}function S(i,a){if(1&i){const n=e.EpF();e.TgZ(0,"div",51),e.TgZ(1,"button",52),e.NdJ("click",function(){return e.CHM(n),e.oxw().dialogDataRujukan=!0}),e._uU(2,"Pilih Surat Rujukan"),e.qZA(),e.qZA()}}function O(i,a){if(1&i){const n=e.EpF();e.TgZ(0,"div",54),e.NdJ("click",function(){e.CHM(n);const s=e.oxw().$implicit;return e.oxw().selectRujukan(s)}),e.TgZ(1,"div",9),e.TgZ(2,"div",39),e.TgZ(3,"small",7),e._uU(4,"No. Rujukan : "),e.qZA(),e.TgZ(5,"strong"),e._uU(6),e.qZA(),e.qZA(),e.qZA(),e._UZ(7,"hr"),e.TgZ(8,"div",9),e.TgZ(9,"div",40),e.TgZ(10,"small",7),e._uU(11,"Asal Rujukan"),e.qZA(),e.TgZ(12,"div"),e.TgZ(13,"span"),e._uU(14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",40),e.TgZ(16,"small",7),e._uU(17,"Tgl. Rujukan"),e.qZA(),e.TgZ(18,"div"),e.TgZ(19,"span"),e._uU(20),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",9),e.TgZ(22,"div",40),e.TgZ(23,"small",7),e._uU(24,"Jns. Perawatan"),e.qZA(),e.TgZ(25,"div"),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"uppercase"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",40),e.TgZ(30,"small",7),e._uU(31,"Poliklinik Tujuan"),e.qZA(),e.TgZ(32,"div"),e.TgZ(33,"span"),e._uU(34),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",41),e.TgZ(36,"div",39),e.TgZ(37,"div",42),e.TgZ(38,"small",7),e._uU(39,"Diagnosa"),e.qZA(),e.TgZ(40,"div"),e.TgZ(41,"span"),e._uU(42),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const n=e.oxw().$implicit;e.xp6(6),e.Oqu(n.noKunjungan),e.xp6(8),e.Oqu(n.provPerujuk.nama),e.xp6(6),e.Oqu(n.tglKunjungan),e.xp6(7),e.Oqu(e.lcZ(28,7,n.pelayanan.nama)),e.xp6(7),e.Oqu(n.poliRujukan.nama),e.xp6(8),e.AsE("",n.diagnosa.kode," - ",n.diagnosa.nama,"")}}function J(i,a){if(1&i&&(e.ynx(0),e.YNc(1,O,43,9,"div",53),e.BQk()),2&i){const n=a.$implicit,t=a.index,s=e.oxw();e.xp6(1),e.Q6J("ngIf",t<=3&&s.registrasiOnlineService.getExpiredRujukan(n.tglKunjungan).hariExpired>0)}}let y=(()=>{class i{constructor(n,t){this.registrasiOnlineService=n,this.router=t,this.dataRujukan=[],this.dialogDataRujukan=!1,this.jnsPembayaran="",this.jnsKunjungan="",this.jumlahSepRujukan="",this.totalRujukanAktif=0}ngOnInit(){this.registrasiOnlineService.getSessionPasien(),this.registrasiOnlineService.dataRujukanFaskes.subscribe(n=>this.handleDataRujukan(n)),this.registrasiOnlineService.dataRujukanRs.subscribe(n=>this.handleDataRujukan(n)),this.registrasiOnlineService.jumlahSepRujukan.subscribe(n=>this.handleJumlahSepRujukan(n)),this.subPasien=this.registrasiOnlineService.pasien.subscribe(n=>this.handlePasien(n)),this.getRujukan()}ngOnDestroy(){this.subPasien.unsubscribe()}handleDataRujukan(n){n&&n.forEach(t=>{this.dataRujukan.push(t)})}handlePasien(n){n?(this.pasien=n,this.registrasiOnlineService.getDataRujukan(this.pasien.noaskes),this.pasien.noaskes&&(this.jnsPembayaran="bpjs")):this.router.navigateByUrl("/")}getRujukan(){let n=sessionStorage.getItem("rujukan");n&&(this.rujukan=JSON.parse(n),this.registrasiOnlineService.getJumlahSepRujukan(this.rujukan.noKunjungan))}handleJumlahSepRujukan(n){this.jumlahSepRujukan=n,this.jnsKunjungan=parseInt(n)>0?"kontrolKembali":"rujukanBaru"}selectRujukan(n){this.rujukan=n,this.dialogDataRujukan=!1,this.registrasiOnlineService.getJumlahSepRujukan(this.rujukan.noKunjungan);let t=this.rujukan.tglKunjungan.split("-"),s=new Date(t[0],t[1]-1,t[2]),r=new Date(s.setDate(s.getDate()+90)),q=new Date(this.registrasiOnlineService.reformatDate(new Date)),ae=(new Date(this.registrasiOnlineService.reformatDate(r)).getTime()-q.getTime())/864e5;this.rujukan.expired=this.registrasiOnlineService.reformatDate(r),this.rujukan.hariExpired=ae}next(){this.rujukan.jumlahSep=this.jumlahSepRujukan,sessionStorage.setItem("rujukan",JSON.stringify(this.rujukan)),sessionStorage.setItem("jenisPembayaran",this.jnsPembayaran),this.router.navigateByUrl("registrasi/rencana-kunjungan")}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(d.S),e.Y36(g.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-jenis-kunjungan"]],decls:79,vars:19,consts:[[1,"container-fluid","p-3"],[1,"row","justify-content-center"],[1,"col-lg-4","col-md-7","col-sm-12"],[1,"text-center"],["src","assets/hesti.png","height","62px",1,"mb-3"],[1,"border","p-5","bg-gray-100","mt-4",2,"background-color","#f4f5f8","border-radius","15px"],["align","center",1,"mb-4"],[1,"text-muted"],[1,"bold"],[1,"row"],[1,"col"],[1,"mt-3"],[1,"mb-3"],["for","Jenis Kunjungan",1,"text-muted"],["aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange"],["value","bpjs"],["hidden","",1,"mb-3"],["value","rujukanBaru"],["value","kontrolKembali"],["class","bi bi-exclamation-circle-fill text-danger",4,"ngIf"],["class","p-3 bg-light rounded border mb-3 clickable",4,"ngIf"],["class","d-grid gap-2 mb-3 mt-1",4,"ngIf"],[1,"d-grid","gap-2","mb-4","mt-4"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-sm","btn-outline-secondary",3,"routerLink"],[1,"bi","bi-chevron-left"],[2,"position","fixed","bottom","0","width","100%","left","0","z-index","-1"],["width","100%","height","100%","id","svg","viewBox","0 0 1440 600","xmlns","http://www.w3.org/2000/svg",1,"transition","duration-300","ease-in-out","delay-150"],["id","gradient","x1","0%","y1","51%","x2","100%","y2","49%"],["offset","5%","stop-color","#ff690088"],["offset","95%","stop-color","#00d08488"],["d","M 0,600 C 0,600 0,200 0,200 C 126.64114832535887,231.5311004784689 253.28229665071774,263.0622009569378 341,240 C 428.71770334928226,216.9377990430622 477.51196172248797,139.2822966507177 568,143 C 658.488038277512,146.7177033492823 790.66985645933,231.80861244019138 896,244 C 1001.33014354067,256.1913875598086 1079.8086124401914,195.48325358851676 1166,176 C 1252.1913875598086,156.51674641148324 1346.0956937799042,178.25837320574163 1440,200 C 1440,200 1440,600 1440,600 Z","stroke","none","stroke-width","0","fill","url(#gradient)",1,"transition-all","duration-300","ease-in-out","delay-150","path-0"],["offset","5%","stop-color","#ff6900ff"],["offset","95%","stop-color","#00d084ff"],["d","M 0,600 C 0,600 0,400 0,400 C 67.75119617224877,435.07177033492826 135.50239234449754,470.14354066985646 235,468 C 334.49760765550246,465.85645933014354 465.7416267942584,426.49760765550246 575,391 C 684.2583732057416,355.50239234449754 771.5311004784689,323.86602870813397 860,345 C 948.4688995215311,366.13397129186603 1038.1339712918661,440.0382775119617 1135,458 C 1231.8660287081339,475.9617224880383 1335.933014354067,437.98086124401914 1440,400 C 1440,400 1440,600 1440,600 Z","stroke","none","stroke-width","0","fill","url(#gradient)",1,"transition-all","duration-300","ease-in-out","delay-150","path-1"],["header","Pilih Surat Rujukan",3,"visible","modal","position","transitionOptions","visibleChange"],[4,"ngFor","ngForOf"],[1,"bi","bi-exclamation-circle-fill","text-danger"],[1,"p-3","bg-light","rounded","border","mb-3","clickable"],[1,"col-12"],[1,"col-sm-12","col-md-6"],[1,"row","mt-1"],[1,"bg-secondary","bg-opacity-10","p-2","rounded"],[1,"text-muted","text-center","mt-1","mb-1"],["class","text-muted text-center alert alert-success p-1","style","line-height: 1.2rem;",4,"ngIf"],["class","text-muted text-center alert alert-danger p-1","style","line-height: 1.2rem;",4,"ngIf"],[1,"d-grid","gap-2","mt-3"],["class","btn btn-secondary","type","button",3,"click",4,"ngIf"],[1,"text-muted","text-center","alert","alert-success","p-1",2,"line-height","1.2rem"],[1,"text-muted","text-center","alert","alert-danger","p-1",2,"line-height","1.2rem"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"d-grid","gap-2","mb-3","mt-1"],["type","button",1,"btn","btn-primary","pt-3","pb-3",3,"click"],["class","p-3 item-rujukan bg-light rounded border mb-3 clickable","pRipple","",3,"click",4,"ngIf"],["pRipple","",1,"p-3","item-rujukan","bg-light","rounded","border","mb-3","clickable",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e._UZ(4,"img",4),e.TgZ(5,"h4"),e._uU(6,"RUMKIT TK II Prof. dr. J.A. LATUMETEN AMBON"),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e.TgZ(8,"h5",6),e._uU(9,"Registrasi Online"),e._UZ(10,"br"),e._uU(11,"Rawat Jalan"),e.qZA(),e._UZ(12,"hr"),e.TgZ(13,"div"),e.TgZ(14,"small",7),e._uU(15,"Data Pasien"),e.qZA(),e.TgZ(16,"div",8),e._uU(17),e.ALo(18,"uppercase"),e.qZA(),e.TgZ(19,"div"),e._uU(20),e.qZA(),e.TgZ(21,"div"),e._uU(22),e.qZA(),e._UZ(23,"hr"),e.TgZ(24,"div",9),e.TgZ(25,"div",10),e.TgZ(26,"small",7),e._uU(27,"No. Rekam Medis"),e.qZA(),e.TgZ(28,"div"),e._uU(29),e.qZA(),e.qZA(),e.TgZ(30,"div",10),e.TgZ(31,"small",7),e._uU(32,"No. BPJS"),e.qZA(),e.TgZ(33,"div"),e._uU(34),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",11),e.TgZ(36,"div",12),e.TgZ(37,"label",13),e._uU(38,"Jenis Pembayaran"),e.qZA(),e.TgZ(39,"select",14),e.NdJ("ngModelChange",function(r){return t.jnsPembayaran=r}),e.TgZ(40,"option",15),e._uU(41,"BPJS"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"div",16),e.TgZ(43,"label",13),e._uU(44,"Jenis Kunjungan"),e.qZA(),e.TgZ(45,"select",14),e.NdJ("ngModelChange",function(r){return t.jnsKunjungan=r}),e.TgZ(46,"option",17),e._uU(47,"Kunjungan / Rujukan Baru"),e.qZA(),e.TgZ(48,"option",18),e._uU(49,"Kontrol Kembali"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",12),e.TgZ(51,"label",13),e._uU(52," Surat Rujukan "),e.YNc(53,j,1,0,"i",19),e.qZA(),e.YNc(54,w,52,13,"div",20),e.YNc(55,S,3,0,"div",21),e.TgZ(56,"div",22),e.TgZ(57,"button",23),e.NdJ("click",function(){return t.next()}),e._uU(58,"Lanjutkan"),e.qZA(),e.qZA(),e.TgZ(59,"div",9),e.TgZ(60,"div",10),e.TgZ(61,"button",24),e._UZ(62,"i",25),e._uU(63," Kembali"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(64,"div",26),e.O4$(),e.TgZ(65,"svg",27),e.TgZ(66,"defs"),e.TgZ(67,"linearGradient",28),e._UZ(68,"stop",29),e._UZ(69,"stop",30),e.qZA(),e.qZA(),e._UZ(70,"path",31),e.TgZ(71,"defs"),e.TgZ(72,"linearGradient",28),e._UZ(73,"stop",32),e._UZ(74,"stop",33),e.qZA(),e.qZA(),e._UZ(75,"path",34),e.qZA(),e.qZA(),e.kcU(),e.TgZ(76,"p-dialog",35),e.NdJ("visibleChange",function(r){return t.dialogDataRujukan=r}),e.YNc(77,J,2,1,"ng-container",36),e.qZA(),e._UZ(78,"app-error-handle")),2&n&&(e.xp6(17),e.Oqu(e.lcZ(18,17,t.pasien.nama)),e.xp6(3),e.hij(" ",t.pasien.kelamin," "),e.xp6(2),e.Oqu(t.pasien.alamat),e.xp6(7),e.Oqu(t.pasien.norekmed),e.xp6(5),e.Oqu(t.pasien.noaskes),e.xp6(5),e.Q6J("ngModel",t.jnsPembayaran),e.xp6(6),e.Q6J("ngModel",t.jnsKunjungan),e.xp6(8),e.Q6J("ngIf",!t.rujukan),e.xp6(1),e.Q6J("ngIf",t.rujukan),e.xp6(1),e.Q6J("ngIf",!t.rujukan),e.xp6(2),e.Q6J("disabled",!t.rujukan),e.xp6(4),e.Q6J("routerLink","/"),e.xp6(15),e.Q6J("visible",t.dialogDataRujukan)("modal",!0)("position","top")("transitionOptions","250ms"),e.xp6(1),e.Q6J("ngForOf",t.dataRujukan))},directives:[u.EJ,u.JJ,u.On,u.YN,u.Kr,l.O5,g.rH,p.V,l.sg,Z],pipes:[l.gd],styles:[""]}),i})();var T=o(8505),v=o(1287);const R=["screen"];function K(i,a){if(1&i&&(e.TgZ(0,"div",15),e.TgZ(1,"small",16),e._uU(2,"Surat Rujukan"),e.qZA(),e.TgZ(3,"div",17),e.TgZ(4,"div",11),e.TgZ(5,"div",18),e.TgZ(6,"small",9),e._uU(7,"No. Surat Rujukan : "),e.qZA(),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const n=e.oxw();e.xp6(8),e.hij("",n.rujukan.noKunjungan," ")}}function D(i,a){if(1&i&&(e.TgZ(0,"div",34),e.TgZ(1,"div",11),e.TgZ(2,"div",35),e.TgZ(3,"small"),e._uU(4),e.ALo(5,"uppercase"),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"small"),e.TgZ(8,"strong"),e._uU(9),e.ALo(10,"uppercase"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(11,"hr",36),e.TgZ(12,"div",11),e.TgZ(13,"div",37),e.TgZ(14,"small",9),e._uU(15,"Hari"),e.qZA(),e.TgZ(16,"div"),e.TgZ(17,"span"),e._uU(18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",37),e.TgZ(20,"small",9),e._uU(21,"Jam Praktek"),e.qZA(),e.TgZ(22,"div"),e.TgZ(23,"span"),e._uU(24),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const n=e.oxw();e.xp6(4),e.hij("POLIKLINIK ",e.lcZ(5,4,n.jadwalDokter.namapoli),""),e.xp6(5),e.Oqu(e.lcZ(10,6,n.jadwalDokter.namadokter)),e.xp6(9),e.Oqu(n.jadwalDokter.namahari),e.xp6(6),e.Oqu(n.jadwalDokter.jadwal)}}let P=(()=>{class i{constructor(n,t,s){this.registrasiOnlineService=n,this.captureService=t,this.router=s}ngOnInit(){this.registrasiOnlineService.getSessionPasien(),this.registrasiOnlineService.getSessionRujukan(),this.registrasiOnlineService.getSessionJadwalDokter(),this.registrasiOnlineService.getSessionJenisPembayaran(),this.registrasiOnlineService.pasien.subscribe(n=>this.handlePasien(n)),this.registrasiOnlineService.rujukan.subscribe(n=>this.rujukan=n),this.registrasiOnlineService.suratKontrol.subscribe(n=>this.suratKontrol=n),this.registrasiOnlineService.jadwalDokter.subscribe(n=>this.jadwalDokter=n),this.registrasiOnlineService.jenisPembayaran.subscribe(n=>this.jenisPembayaran=n),this.registrasiOnlineService.dataHistorySep.subscribe(n=>this.handleHistorySep(n)),this.registrasiOnlineService.createSuratKontrolStatus.subscribe(n=>this.handleCreateSuratKontrol(n)),this.registrasiOnlineService.dataBooking.subscribe(n=>this.handleDataBooking(n)),this.captureImage()}handlePasien(n){n?(this.pasien=n,this.registrasiOnlineService.getHistorySep(this.pasien.noaskes)):this.router.navigateByUrl("/")}captureImage(){setTimeout(()=>{this.captureService.getImage(this.screen.nativeElement,!0).pipe((0,T.b)(n=>{this.imageCapture=n})).subscribe()},100)}handleHistorySep(n){if(this.lastSep="",n){let t=[];n.forEach(s=>{s.noRujukan==this.rujukan.noKunjungan&&t.push(s)}),t.length>0&&(this.lastSep=t[0])}}handleCreateSuratKontrol(n){n&&(this.jenisKunjungan={kode:3,nama:"kontrolKembali"},this.save())}handleDataBooking(n){n&&(n.nama=this.pasien.nama,n.norekmed=this.pasien.norekmed,n.noaskes=this.pasien.noaskes,n.noRujukan=this.rujukan.noKunjungan,sessionStorage.setItem("booking",JSON.stringify(n)),this.router.navigateByUrl("/registrasi/success"))}createSuratKontrol(){this.registrasiOnlineService.createSuratKontrol({noSep:this.lastSep.noSep,dokter:this.jadwalDokter.kodedokter,poli:this.jadwalDokter.kodepoli,tgl:this.jadwalDokter.tglKunjungan})}daftar(){parseInt(this.rujukan.jumlahSep)>0?this.rujukan.poliRujukan.kode==this.jadwalDokter.kodepoli?this.createSuratKontrol():(this.jenisKunjungan={kode:2,nama:"rujukanInternal"},this.save()):(this.jenisKunjungan={kode:this.rujukan.asalFaskes.jenisKunjungan,nama:this.rujukan.asalFaskes.nama},this.save())}save(){this.registrasiOnlineService.save({pasien:this.pasien,rujukan:this.rujukan,suratKontrol:this.suratKontrol,jadwalDokter:this.jadwalDokter,jenisPembayaran:this.jenisPembayaran,jenisKunjungan:this.jenisKunjungan})}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(d.S),e.Y36(v.Q7),e.Y36(g.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-konfirmasi"]],viewQuery:function(n,t){if(1&n&&e.Gf(R,7),2&n){let s;e.iGM(s=e.CRH())&&(t.screen=s.first)}},decls:72,vars:11,consts:[[1,"container-fluid","p-3"],[1,"row","justify-content-center"],[1,"col-lg-4","col-md-7","col-sm-12"],["screen",""],[1,"text-center"],["src","assets/hesti.png","height","62px",1,"mb-3"],[1,"border","p-5","bg-gray-100","mt-4",2,"background-color","#f4f5f8","border-radius","15px"],["align","center",1,"mb-4"],[1,"p-3","bg-white","border","rounded"],[1,"text-muted"],[1,"bold"],[1,"row"],[1,"col"],[1,"mt-3"],["class","mb-3",4,"ngIf"],[1,"mb-3"],["for","Jenis Kunjungan",1,"text-muted"],[1,"p-3","bg-light","rounded","border","mb-3","clickable"],[1,"col-12","text-center"],["class","p-3 item-rujukan bg-light rounded border mb-3",4,"ngIf"],[1,"d-grid","gap-2","mb-4","mt-4"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col","mt-3"],[1,"btn","btn-sm","btn-outline-secondary",3,"routerLink"],[1,"bi","bi-chevron-left"],[2,"position","fixed","bottom","0","width","100%","left","0","z-index","-1"],["width","100%","height","100%","id","svg","viewBox","0 0 1440 600","xmlns","http://www.w3.org/2000/svg",1,"transition","duration-300","ease-in-out","delay-150"],["id","gradient","x1","0%","y1","51%","x2","100%","y2","49%"],["offset","5%","stop-color","#ff690088"],["offset","95%","stop-color","#00d08488"],["d","M 0,600 C 0,600 0,200 0,200 C 126.64114832535887,231.5311004784689 253.28229665071774,263.0622009569378 341,240 C 428.71770334928226,216.9377990430622 477.51196172248797,139.2822966507177 568,143 C 658.488038277512,146.7177033492823 790.66985645933,231.80861244019138 896,244 C 1001.33014354067,256.1913875598086 1079.8086124401914,195.48325358851676 1166,176 C 1252.1913875598086,156.51674641148324 1346.0956937799042,178.25837320574163 1440,200 C 1440,200 1440,600 1440,600 Z","stroke","none","stroke-width","0","fill","url(#gradient)",1,"transition-all","duration-300","ease-in-out","delay-150","path-0"],["offset","5%","stop-color","#ff6900ff"],["offset","95%","stop-color","#00d084ff"],["d","M 0,600 C 0,600 0,400 0,400 C 67.75119617224877,435.07177033492826 135.50239234449754,470.14354066985646 235,468 C 334.49760765550246,465.85645933014354 465.7416267942584,426.49760765550246 575,391 C 684.2583732057416,355.50239234449754 771.5311004784689,323.86602870813397 860,345 C 948.4688995215311,366.13397129186603 1038.1339712918661,440.0382775119617 1135,458 C 1231.8660287081339,475.9617224880383 1335.933014354067,437.98086124401914 1440,400 C 1440,400 1440,600 1440,600 Z","stroke","none","stroke-width","0","fill","url(#gradient)",1,"transition-all","duration-300","ease-in-out","delay-150","path-1"],[1,"p-3","item-rujukan","bg-light","rounded","border","mb-3"],[1,"col-12"],[1,"m-0","mt-1","mb-1"],[1,"col-6"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2,3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"h4"),e._uU(7,"RUMKIT TK II Prof. dr. J.A. LATUMETEN AMBON"),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"h5",7),e._uU(10,"Registrasi Online"),e._UZ(11,"br"),e._uU(12,"Rawat Jalan"),e.qZA(),e._UZ(13,"hr"),e.TgZ(14,"div",8),e.TgZ(15,"div"),e.TgZ(16,"small",9),e._uU(17,"Data Pasien"),e.qZA(),e.TgZ(18,"div",10),e._uU(19),e.ALo(20,"uppercase"),e.qZA(),e.TgZ(21,"div"),e._uU(22),e.qZA(),e.TgZ(23,"div"),e._uU(24),e.qZA(),e._UZ(25,"hr"),e.TgZ(26,"div",11),e.TgZ(27,"div",12),e.TgZ(28,"small",9),e._uU(29,"No. Rekam Medis"),e.qZA(),e.TgZ(30,"div"),e._uU(31),e.qZA(),e.qZA(),e.TgZ(32,"div",12),e.TgZ(33,"small",9),e._uU(34,"No. BPJS"),e.qZA(),e.TgZ(35,"div"),e._uU(36),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",13),e.YNc(38,K,9,1,"div",14),e.TgZ(39,"div",15),e.TgZ(40,"small",16),e._uU(41,"Tanggal Kunjungan"),e.qZA(),e._UZ(42,"br"),e.TgZ(43,"div",17),e.TgZ(44,"div",11),e.TgZ(45,"div",18),e._uU(46),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"div",15),e.TgZ(48,"small",16),e._uU(49,"Jadwal Dokter"),e.qZA(),e.YNc(50,D,25,8,"div",19),e.qZA(),e.TgZ(51,"div",20),e.TgZ(52,"button",21),e.NdJ("click",function(){return t.daftar()}),e._uU(53,"Daftar"),e.qZA(),e.qZA(),e.TgZ(54,"div",11),e.TgZ(55,"div",22),e.TgZ(56,"button",23),e._UZ(57,"i",24),e._uU(58," Kembali"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",25),e.O4$(),e.TgZ(60,"svg",26),e.TgZ(61,"defs"),e.TgZ(62,"linearGradient",27),e._UZ(63,"stop",28),e._UZ(64,"stop",29),e.qZA(),e.qZA(),e._UZ(65,"path",30),e.TgZ(66,"defs"),e.TgZ(67,"linearGradient",27),e._UZ(68,"stop",31),e._UZ(69,"stop",32),e.qZA(),e.qZA(),e._UZ(70,"path",33),e.qZA(),e.qZA(),e.kcU(),e._UZ(71,"app-error-handle")),2&n&&(e.xp6(19),e.Oqu(e.lcZ(20,9,t.pasien.nama)),e.xp6(3),e.hij(" ",t.pasien.kelamin," "),e.xp6(2),e.Oqu(t.pasien.alamat),e.xp6(7),e.Oqu(t.pasien.norekmed),e.xp6(5),e.Oqu(t.pasien.noaskes),e.xp6(2),e.Q6J("ngIf",t.rujukan),e.xp6(8),e.hij(" ",t.registrasiOnlineService.dateHuman(t.jadwalDokter.tglKunjungan)," "),e.xp6(4),e.Q6J("ngIf",t.jadwalDokter),e.xp6(6),e.Q6J("routerLink","/registrasi/rencana-kunjungan"))},directives:[l.O5,g.rH,Z],pipes:[l.gd],styles:[""]}),i})();function I(i,a){if(1&i){const n=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",3),e._uU(2,"No. Rekam Medis atau No. BPJS"),e.qZA(),e.TgZ(3,"div",17),e.TgZ(4,"input",18),e.NdJ("ngModelChange",function(s){return e.CHM(n),e.oxw().nomorPasien=s}),e.qZA(),e.qZA(),e.TgZ(5,"div",19),e.TgZ(6,"button",20),e.NdJ("click",function(){return e.CHM(n),e.oxw().getPasien()}),e._uU(7,"Lanjutkan"),e.qZA(),e.qZA(),e.qZA()}if(2&i){const n=e.oxw();e.xp6(4),e.Q6J("ngModel",n.nomorPasien)}}function N(i,a){if(1&i&&(e.TgZ(0,"div",23),e.TgZ(1,"div",30),e._uU(2," Pelayanan Tidak Dapat Dilanjutkan"),e._UZ(3,"br"),e._uU(4),e.ALo(5,"uppercase"),e.qZA(),e.qZA()),2&i){const n=e.oxw(3);e.xp6(4),e.hij(" Status Peserta : ",e.lcZ(5,1,n.peserta.statusPeserta.keterangan)," ")}}function M(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,N,6,3,"div",29),e.qZA()),2&i){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf","0"!=n.statusPeserta)}}function Q(i,a){if(1&i){const n=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"small",21),e._uU(2,"Data Pasien"),e.qZA(),e.TgZ(3,"div",22),e._uU(4),e.ALo(5,"uppercase"),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.qZA(),e.TgZ(8,"div"),e._uU(9),e.qZA(),e._UZ(10,"hr"),e.TgZ(11,"div",23),e.TgZ(12,"div",24),e.TgZ(13,"small",21),e._uU(14,"No. Rekam Medis"),e.qZA(),e.TgZ(15,"div"),e._uU(16),e.qZA(),e.qZA(),e.TgZ(17,"div",24),e.TgZ(18,"small",21),e._uU(19,"No. BPJS"),e.qZA(),e.TgZ(20,"div"),e._uU(21),e.qZA(),e.qZA(),e.qZA(),e.YNc(22,M,2,1,"div",7),e.TgZ(23,"div",25),e.TgZ(24,"button",26),e.NdJ("click",function(){return e.CHM(n),e.oxw().next()}),e._uU(25,"Lanjutkan"),e.qZA(),e.qZA(),e.TgZ(26,"button",27),e.NdJ("click",function(){return e.CHM(n),e.oxw().pasien=""}),e._UZ(27,"i",28),e._uU(28," Kembali"),e.qZA(),e.qZA()}if(2&i){const n=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,7,n.pasien.nama)),e.xp6(3),e.hij(" ",n.pasien.kelamin," "),e.xp6(2),e.Oqu(n.pasien.alamat),e.xp6(7),e.Oqu(n.pasien.norekmed),e.xp6(5),e.Oqu(n.pasien.noaskes),e.xp6(1),e.Q6J("ngIf",n.peserta),e.xp6(2),e.Q6J("disabled",!n.peserta||"0"!=n.statusPeserta)}}let B=(()=>{class i{constructor(n,t){this.registrasiOnlineService=n,this.router=t,this.nomorPasien="",this.statusPeserta=""}ngOnInit(){"https:"==location.protocol&&location.replace(`http:${location.href.substring(location.protocol.length)}`),this.clearData(),this.subDataPasien=this.registrasiOnlineService.dataPasien.subscribe(n=>this.handlePasien(n)),this.registrasiOnlineService.peserta.subscribe(n=>this.handleDataPeserta(n))}ngOnDestroy(){this.subDataPasien.unsubscribe()}handlePasien(n){this.pasien=n,n&&this.registrasiOnlineService.getPeserta(this.pasien.noaskes)}handleDataPeserta(n){n&&(this.peserta=n,this.statusPeserta=this.peserta.statusPeserta.kode)}getPasien(){this.clearData(),this.nomorPasien.length>10?this.registrasiOnlineService.getPesertaBpjs(this.nomorPasien):this.registrasiOnlineService.getPasienByRm(this.nomorPasien)}clearData(){this.statusPeserta="",this.registrasiOnlineService.dataPasien.next(""),this.registrasiOnlineService.peserta.next(""),sessionStorage.clear()}next(){let n=JSON.stringify(this.pasien),t=JSON.stringify(this.peserta);sessionStorage.setItem("pasien",n),sessionStorage.setItem("peserta",t),this.pasien="",this.router.navigateByUrl("registrasi/jenis-kunjungan")}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(d.S),e.Y36(g.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-registrasi"]],decls:28,vars:2,consts:[[1,"container-fluid","p-3"],[1,"row","justify-content-center"],[1,"col-lg-4","col-md-7","col-sm-12"],[1,"text-center"],["src","assets/hesti.png","height","62px",1,"mb-3"],[1,"border","p-5","bg-gray-100","mt-4",2,"background-color","#f4f5f8","border-radius","15px"],["align","center",1,"mb-4"],[4,"ngIf"],[2,"position","fixed","bottom","0","width","100%","left","0","z-index","-1"],["width","100%","height","100%","id","svg","viewBox","0 0 1440 600","xmlns","http://www.w3.org/2000/svg",1,"transition","duration-300","ease-in-out","delay-150"],["id","gradient","x1","0%","y1","51%","x2","100%","y2","49%"],["offset","5%","stop-color","#ff690088"],["offset","95%","stop-color","#00d08488"],["d","M 0,600 C 0,600 0,200 0,200 C 126.64114832535887,231.5311004784689 253.28229665071774,263.0622009569378 341,240 C 428.71770334928226,216.9377990430622 477.51196172248797,139.2822966507177 568,143 C 658.488038277512,146.7177033492823 790.66985645933,231.80861244019138 896,244 C 1001.33014354067,256.1913875598086 1079.8086124401914,195.48325358851676 1166,176 C 1252.1913875598086,156.51674641148324 1346.0956937799042,178.25837320574163 1440,200 C 1440,200 1440,600 1440,600 Z","stroke","none","stroke-width","0","fill","url(#gradient)",1,"transition-all","duration-300","ease-in-out","delay-150","path-0"],["offset","5%","stop-color","#ff6900ff"],["offset","95%","stop-color","#00d084ff"],["d","M 0,600 C 0,600 0,400 0,400 C 67.75119617224877,435.07177033492826 135.50239234449754,470.14354066985646 235,468 C 334.49760765550246,465.85645933014354 465.7416267942584,426.49760765550246 575,391 C 684.2583732057416,355.50239234449754 771.5311004784689,323.86602870813397 860,345 C 948.4688995215311,366.13397129186603 1038.1339712918661,440.0382775119617 1135,458 C 1231.8660287081339,475.9617224880383 1335.933014354067,437.98086124401914 1440,400 C 1440,400 1440,600 1440,600 Z","stroke","none","stroke-width","0","fill","url(#gradient)",1,"transition-all","duration-300","ease-in-out","delay-150","path-1"],[1,"mb-3"],["type","text","id","exampleFormControlInput1","maxlength","16",1,"form-control","text-center",3,"ngModel","ngModelChange"],[1,"d-grid","gap-2","mb-4"],["type","button",1,"btn","btn-primary",3,"click"],[1,"text-muted"],[1,"bold"],[1,"row"],[1,"col"],[1,"d-grid","gap-2","mb-4","mt-4"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"bi","bi-chevron-left","mr-1"],["class","row",4,"ngIf"],[1,"col","mt-2","p-3","text-center","bg-white","rounded","border","text-muted"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e._UZ(4,"img",4),e.TgZ(5,"h4"),e._uU(6,"RUMKIT TK II Prof. dr. J.A. LATUMETEN AMBON"),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e.TgZ(8,"h5",6),e._uU(9,"Registrasi Online"),e._UZ(10,"br"),e._uU(11,"Rawat Jalan"),e.qZA(),e._UZ(12,"hr"),e.YNc(13,I,8,1,"div",7),e.YNc(14,Q,29,9,"div",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",8),e.O4$(),e.TgZ(16,"svg",9),e.TgZ(17,"defs"),e.TgZ(18,"linearGradient",10),e._UZ(19,"stop",11),e._UZ(20,"stop",12),e.qZA(),e.qZA(),e._UZ(21,"path",13),e.TgZ(22,"defs"),e.TgZ(23,"linearGradient",10),e._UZ(24,"stop",14),e._UZ(25,"stop",15),e.qZA(),e.qZA(),e._UZ(26,"path",16),e.qZA(),e.qZA(),e.kcU(),e._UZ(27,"app-error-handle")),2&n&&(e.xp6(13),e.Q6J("ngIf",!t.pasien),e.xp6(1),e.Q6J("ngIf",t.pasien))},directives:[l.O5,u.Fj,u.nD,u.JJ,u.On,Z],pipes:[l.gd],styles:[""]}),i})();var k=o(5652);function E(i,a){if(1&i&&(e.TgZ(0,"div",13),e.TgZ(1,"small",14),e._uU(2,"Surat Rujukan"),e.qZA(),e.TgZ(3,"div",38),e.TgZ(4,"div",9),e.TgZ(5,"div",39),e.TgZ(6,"small",7),e._uU(7,"No. Surat Rujukan : "),e.qZA(),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const n=e.oxw();e.xp6(8),e.hij("",n.rujukan.noKunjungan," ")}}function Y(i,a){if(1&i&&(e.TgZ(0,"option",40),e._uU(1),e.ALo(2,"uppercase"),e.qZA()),2&i){const n=a.$implicit;e.s9C("value",n.kode),e.xp6(1),e.Oqu(e.lcZ(2,2,n.ket))}}function F(i,a){1&i&&e._UZ(0,"i",41)}function L(i,a){if(1&i){const n=e.EpF();e.TgZ(0,"div",42),e.TgZ(1,"button",43),e.NdJ("click",function(){return e.CHM(n),e.oxw().dialogDataJadwalDokter=!0}),e._uU(2,"Pilih Jadwal Dokter"),e.qZA(),e.qZA()}if(2&i){const n=e.oxw();e.xp6(1),e.Q6J("disabled",!n.dataJadwalDokter)}}function H(i,a){if(1&i){const n=e.EpF();e.TgZ(0,"div",44),e.TgZ(1,"div",9),e.TgZ(2,"div",45),e.TgZ(3,"strong"),e._uU(4),e.ALo(5,"uppercase"),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"small",7),e._uU(8),e.ALo(9,"uppercase"),e.qZA(),e.qZA(),e.qZA(),e._UZ(10,"hr"),e.TgZ(11,"div",9),e.TgZ(12,"div",46),e.TgZ(13,"small",7),e._uU(14,"Hari"),e.qZA(),e.TgZ(15,"div"),e.TgZ(16,"span"),e._uU(17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",46),e.TgZ(19,"small",7),e._uU(20,"Jam Praktek"),e.qZA(),e.TgZ(21,"div"),e.TgZ(22,"span"),e._uU(23),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",47),e.TgZ(25,"button",48),e.NdJ("click",function(){return e.CHM(n),e.oxw().dialogDataJadwalDokter=!0}),e._uU(26,"Ganti Dokter"),e.qZA(),e.qZA(),e.qZA()}if(2&i){const n=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,4,n.jadwalDokter.namadokter)),e.xp6(4),e.hij("POLIKLINIK ",e.lcZ(9,6,n.jadwalDokter.namasubspesialis),""),e.xp6(9),e.Oqu(n.jadwalDokter.namahari),e.xp6(6),e.Oqu(n.jadwalDokter.jadwal)}}function G(i,a){if(1&i){const n=e.EpF();e.TgZ(0,"div",50),e.NdJ("click",function(){const r=e.CHM(n).$implicit;return e.oxw(2).selectJadwal(r)}),e.TgZ(1,"div",9),e.TgZ(2,"div",45),e.TgZ(3,"strong"),e._uU(4),e.ALo(5,"uppercase"),e.qZA(),e.qZA(),e.qZA(),e._UZ(6,"hr"),e.TgZ(7,"div",9),e.TgZ(8,"div",46),e.TgZ(9,"small",7),e._uU(10,"Hari"),e.qZA(),e.TgZ(11,"div"),e.TgZ(12,"span"),e._uU(13),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",46),e.TgZ(15,"small",7),e._uU(16,"Jam Praktek"),e.qZA(),e.TgZ(17,"div"),e.TgZ(18,"span"),e._uU(19),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const n=a.$implicit;e.xp6(4),e.Oqu(e.lcZ(5,3,n.namadokter)),e.xp6(9),e.Oqu(n.namahari),e.xp6(6),e.Oqu(n.jadwal)}}function $(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,G,20,5,"div",49),e.qZA()),2&i){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.dataJadwalDokter)}}const z=function(){return{width:"100%"}};let X=(()=>{class i{constructor(n,t){this.registrasiOnlineService=n,this.router=t,this.today=new Date,this.dialogDataJadwalDokter=!1,this.tglKunjungan=new Date,this.tujuanPoli=""}ngOnInit(){this.registrasiOnlineService.getSessionRujukan(),this.registrasiOnlineService.getSessionJadwalDokter(),this.registrasiOnlineService.getDataPoliklinik(),this.registrasiOnlineService.getSessionPasien(),this.subPasien=this.registrasiOnlineService.pasien.subscribe(n=>this.handlePasien(n)),this.registrasiOnlineService.dataPoliklinik.subscribe(n=>this.dataPoliklinik=n),this.registrasiOnlineService.dataJadwalDokter.subscribe(n=>this.dataJadwalDokter=n),this.subJadwalDokter=this.registrasiOnlineService.jadwalDokter.subscribe(n=>this.handleJadwalDokter(n)),this.subRujukan=this.registrasiOnlineService.rujukan.subscribe(n=>this.handleSessionRujukan(n))}ngOnDestroy(){this.subPasien.unsubscribe(),this.subRujukan.unsubscribe(),this.subJadwalDokter.unsubscribe()}handleJadwalDokter(n){this.jadwalDokter=n,this.tglKunjungan=n?new Date(n.tglKunjungan):new Date}handlePasien(n){n?this.pasien=n:this.router.navigateByUrl("/")}handleSessionRujukan(n){n&&(this.rujukan=n,this.endDate=new Date(n.expired.toString()),this.setTujuanPoli(this.jadwalDokter?this.jadwalDokter.kodepoli:this.rujukan.poliRujukan.kode))}setTujuanPoli(n){setTimeout(()=>{this.tujuanPoli=n,this.getJadwalDokter()},500)}changePoliklinik(){this.jadwalDokter="",this.getJadwalDokter()}getJadwalDokter(){this.tujuanPoli&&this.tglKunjungan&&setTimeout(()=>{console.log(this.tglKunjungan),this.registrasiOnlineService.getJadwalDokter(this.tujuanPoli,this.registrasiOnlineService.reformatDate(this.tglKunjungan))},250)}selectJadwal(n){this.jadwalDokter=n,this.dialogDataJadwalDokter=!1}next(){this.jadwalDokter.tglKunjungan=this.registrasiOnlineService.reformatDate(this.tglKunjungan),sessionStorage.setItem("jadwalDokter",JSON.stringify(this.jadwalDokter)),this.router.navigateByUrl("registrasi/konfirmasi")}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(d.S),e.Y36(g.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-rencana-kunjungan"]],decls:76,vars:27,consts:[[1,"container-fluid","p-3"],[1,"row","justify-content-center"],[1,"col-lg-4","col-md-7","col-sm-12"],[1,"text-center"],["src","assets/hesti.png","height","62px",1,"mb-3"],[1,"border","p-5","bg-gray-100","mt-4",2,"background-color","#f4f5f8","border-radius","15px"],["align","center",1,"mb-4"],[1,"text-muted"],[1,"bold"],[1,"row"],[1,"col"],[1,"mt-3"],["class","mb-3",4,"ngIf"],[1,"mb-3"],["for","Jenis Kunjungan",1,"text-muted"],[3,"inline","ngModel","minDate","maxDate","ngModelChange"],["aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","bi bi-exclamation-circle-fill text-danger",4,"ngIf"],["class","d-grid gap-2 mt-1",4,"ngIf"],["class","p-3 item-rujukan bg-light rounded border mb-3",4,"ngIf"],[1,"d-grid","gap-2","mb-4","mt-4"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"col","mt-3"],[1,"btn","btn-sm","btn-outline-secondary",3,"routerLink"],[1,"bi","bi-chevron-left"],[2,"position","fixed","bottom","0","width","100%","left","0","z-index","-1"],["width","100%","height","100%","id","svg","viewBox","0 0 1440 600","xmlns","http://www.w3.org/2000/svg",1,"transition","duration-300","ease-in-out","delay-150"],["id","gradient","x1","0%","y1","51%","x2","100%","y2","49%"],["offset","5%","stop-color","#ff690088"],["offset","95%","stop-color","#00d08488"],["d","M 0,600 C 0,600 0,200 0,200 C 126.64114832535887,231.5311004784689 253.28229665071774,263.0622009569378 341,240 C 428.71770334928226,216.9377990430622 477.51196172248797,139.2822966507177 568,143 C 658.488038277512,146.7177033492823 790.66985645933,231.80861244019138 896,244 C 1001.33014354067,256.1913875598086 1079.8086124401914,195.48325358851676 1166,176 C 1252.1913875598086,156.51674641148324 1346.0956937799042,178.25837320574163 1440,200 C 1440,200 1440,600 1440,600 Z","stroke","none","stroke-width","0","fill","url(#gradient)",1,"transition-all","duration-300","ease-in-out","delay-150","path-0"],["offset","5%","stop-color","#ff6900ff"],["offset","95%","stop-color","#00d084ff"],["d","M 0,600 C 0,600 0,400 0,400 C 67.75119617224877,435.07177033492826 135.50239234449754,470.14354066985646 235,468 C 334.49760765550246,465.85645933014354 465.7416267942584,426.49760765550246 575,391 C 684.2583732057416,355.50239234449754 771.5311004784689,323.86602870813397 860,345 C 948.4688995215311,366.13397129186603 1038.1339712918661,440.0382775119617 1135,458 C 1231.8660287081339,475.9617224880383 1335.933014354067,437.98086124401914 1440,400 C 1440,400 1440,600 1440,600 Z","stroke","none","stroke-width","0","fill","url(#gradient)",1,"transition-all","duration-300","ease-in-out","delay-150","path-1"],["header","Pilih Jadwal Dokter",3,"visible","modal","position","transitionOptions","visibleChange"],[4,"ngIf"],[1,"p-3","bg-light","rounded","border","mb-3","clickable"],[1,"col-12","text-center"],[3,"value"],[1,"bi","bi-exclamation-circle-fill","text-danger"],[1,"d-grid","gap-2","mt-1"],["type","button",1,"btn","btn-primary","pt-3","pb-3",3,"disabled","click"],[1,"p-3","item-rujukan","bg-light","rounded","border","mb-3"],[1,"col-12"],[1,"col-6"],[1,"d-grid","gap-2","mt-3"],["type","button",1,"btn","btn-secondary",3,"click"],["class","p-3 item-rujukan bg-light rounded border mb-3 clickable","pRipple","",3,"click",4,"ngFor","ngForOf"],["pRipple","",1,"p-3","item-rujukan","bg-light","rounded","border","mb-3","clickable",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e._UZ(4,"img",4),e.TgZ(5,"h4"),e._uU(6,"RUMKIT TK II Prof. dr. J.A. LATUMETEN AMBON"),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e.TgZ(8,"h5",6),e._uU(9,"Registrasi Online"),e._UZ(10,"br"),e._uU(11,"Rawat Jalan"),e.qZA(),e._UZ(12,"hr"),e.TgZ(13,"div"),e.TgZ(14,"small",7),e._uU(15,"Data Pasien"),e.qZA(),e.TgZ(16,"div",8),e._uU(17),e.ALo(18,"uppercase"),e.qZA(),e.TgZ(19,"div"),e._uU(20),e.qZA(),e.TgZ(21,"div"),e._uU(22),e.qZA(),e._UZ(23,"hr"),e.TgZ(24,"div",9),e.TgZ(25,"div",10),e.TgZ(26,"small",7),e._uU(27,"No. Rekam Medis"),e.qZA(),e.TgZ(28,"div"),e._uU(29),e.qZA(),e.qZA(),e.TgZ(30,"div",10),e.TgZ(31,"small",7),e._uU(32,"No. BPJS"),e.qZA(),e.TgZ(33,"div"),e._uU(34),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",11),e.YNc(36,E,9,1,"div",12),e.TgZ(37,"div",13),e.TgZ(38,"label",14),e._uU(39,"Tanggal Kunjungan"),e.qZA(),e.TgZ(40,"p-calendar",15),e.NdJ("ngModelChange",function(){return t.changePoliklinik()})("ngModelChange",function(r){return t.tglKunjungan=r}),e.qZA(),e.qZA(),e.TgZ(41,"div",13),e.TgZ(42,"label",14),e._uU(43,"Tujuan Poliklinik"),e.qZA(),e.TgZ(44,"select",16),e.NdJ("ngModelChange",function(r){return t.tujuanPoli=r})("change",function(){return t.changePoliklinik()}),e._UZ(45,"option",17),e.YNc(46,Y,3,4,"option",18),e.qZA(),e.qZA(),e.TgZ(47,"div",13),e.TgZ(48,"label",14),e._uU(49," Jadwal Dokter "),e.YNc(50,F,1,0,"i",19),e.qZA(),e.YNc(51,L,3,1,"div",20),e.YNc(52,H,27,8,"div",21),e.qZA(),e.TgZ(53,"div",22),e.TgZ(54,"button",23),e.NdJ("click",function(){return t.next()}),e._uU(55,"Lanjutkan"),e.qZA(),e.qZA(),e.TgZ(56,"div",9),e.TgZ(57,"div",24),e.TgZ(58,"button",25),e._UZ(59,"i",26),e._uU(60," Kembali"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(61,"div",27),e.O4$(),e.TgZ(62,"svg",28),e.TgZ(63,"defs"),e.TgZ(64,"linearGradient",29),e._UZ(65,"stop",30),e._UZ(66,"stop",31),e.qZA(),e.qZA(),e._UZ(67,"path",32),e.TgZ(68,"defs"),e.TgZ(69,"linearGradient",29),e._UZ(70,"stop",33),e._UZ(71,"stop",34),e.qZA(),e.qZA(),e._UZ(72,"path",35),e.qZA(),e.qZA(),e.kcU(),e.TgZ(73,"p-dialog",36),e.NdJ("visibleChange",function(r){return t.dialogDataJadwalDokter=r}),e.YNc(74,$,2,1,"div",37),e.qZA(),e._UZ(75,"app-error-handle")),2&n&&(e.xp6(17),e.Oqu(e.lcZ(18,24,t.pasien.nama)),e.xp6(3),e.hij(" ",t.pasien.kelamin," "),e.xp6(2),e.Oqu(t.pasien.alamat),e.xp6(7),e.Oqu(t.pasien.norekmed),e.xp6(5),e.Oqu(t.pasien.noaskes),e.xp6(2),e.Q6J("ngIf",t.rujukan),e.xp6(4),e.Akn(e.DdM(26,z)),e.Q6J("inline",!0)("ngModel",t.tglKunjungan)("minDate",t.today)("maxDate",t.endDate),e.xp6(4),e.Q6J("ngModel",t.tujuanPoli),e.xp6(2),e.Q6J("ngForOf",t.dataPoliklinik),e.xp6(4),e.Q6J("ngIf",!t.jadwalDokter),e.xp6(1),e.Q6J("ngIf",!t.jadwalDokter),e.xp6(1),e.Q6J("ngIf",t.jadwalDokter),e.xp6(2),e.Q6J("disabled",!t.jadwalDokter),e.xp6(4),e.Q6J("routerLink","/registrasi/jenis-kunjungan"),e.xp6(15),e.Q6J("visible",t.dialogDataJadwalDokter)("modal",!0)("position","top")("transitionOptions","250ms"),e.xp6(1),e.Q6J("ngIf",t.dataJadwalDokter))},directives:[l.O5,k.f,u.JJ,u.On,u.EJ,u.YN,u.Kr,l.sg,g.rH,p.V,Z],pipes:[l.gd],styles:[""]}),i})();var A=o(1622);const V=["screen"];function W(i,a){if(1&i&&(e.TgZ(0,"div",22),e.TgZ(1,"h5",23),e._uU(2,"Registrasi Online"),e._UZ(3,"br"),e._uU(4,"Rawat Jalan"),e.qZA(),e._UZ(5,"hr"),e.TgZ(6,"div",24),e.TgZ(7,"div",25),e._uU(8," NOMOR ANTRIAN "),e.TgZ(9,"div",26),e._uU(10),e.qZA(),e.qZA(),e.TgZ(11,"div",27),e.TgZ(12,"div",24),e._uU(13,"KODE BOOKING"),e.qZA(),e.TgZ(14,"div",28),e._uU(15),e.qZA(),e._UZ(16,"qr-code",29),e.qZA(),e.TgZ(17,"p",30),e._uU(18,"Scan Barcode ini pada mesin anjungan mandiri."),e.qZA(),e.TgZ(19,"p",31),e._uU(20," Jika membutuhkan bantuan, silahkan datang ke loket pendaftaran. "),e._UZ(21,"br"),e._uU(22," Terima Kasih. "),e.qZA(),e.qZA(),e.TgZ(23,"div",32),e.TgZ(24,"div"),e.TgZ(25,"div"),e.TgZ(26,"small",33),e._uU(27,"Nama :"),e.qZA(),e.TgZ(28,"div"),e._uU(29),e.qZA(),e.qZA(),e.TgZ(30,"div"),e.TgZ(31,"small",33),e._uU(32,"Tgl. Kunjungan :"),e.qZA(),e.TgZ(33,"div"),e._uU(34),e.qZA(),e.qZA(),e.TgZ(35,"div"),e.TgZ(36,"small",33),e._uU(37,"Jadwal Dokter :"),e.qZA(),e.TgZ(38,"div"),e._uU(39),e.qZA(),e.TgZ(40,"div"),e._uU(41),e.qZA(),e._UZ(42,"div"),e.qZA(),e._UZ(43,"hr"),e.TgZ(44,"div"),e.TgZ(45,"small",33),e._uU(46,"No. Rekam Medis :"),e.qZA(),e.TgZ(47,"div"),e._uU(48),e.qZA(),e.qZA(),e.TgZ(49,"div"),e.TgZ(50,"small",33),e._uU(51,"No. BPJS / Asuransi :"),e.qZA(),e.TgZ(52,"div"),e._uU(53),e.qZA(),e.qZA(),e.TgZ(54,"div"),e.TgZ(55,"small",33),e._uU(56,"No. Surat Rujukan :"),e.qZA(),e.TgZ(57,"div"),e._uU(58),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const n=e.oxw();e.xp6(10),e.Oqu(n.booking.nomorantrean),e.xp6(5),e.Oqu(n.booking.kodebooking),e.xp6(1),e.s9C("value",n.booking.kodebooking),e.Q6J("margin",2),e.xp6(13),e.Oqu(n.booking.nama),e.xp6(5),e.Oqu(n.registrasiOnlineService.dateHuman(n.booking.tanggalperiksa)),e.xp6(5),e.Oqu(n.booking.namadokter),e.xp6(2),e.Oqu(n.booking.jadwal),e.xp6(7),e.Oqu(n.booking.norekmed),e.xp6(5),e.Oqu(n.booking.nomorkartu),e.xp6(5),e.Oqu(n.booking.noRujukan)}}const c="registrasi",ne=[{path:"",component:B},{path:c+"/jenis-kunjungan",component:y},{path:c+"/rencana-kunjungan",component:X},{path:c+"/konfirmasi",component:P},{path:c+"/success",component:(()=>{class i{constructor(n,t){this.registrasiOnlineService=n,this.captureService=t}ngOnInit(){let n=sessionStorage.getItem("booking");this.booking=JSON.parse(n),this.captureImage(),this.clearData()}clearData(){this.registrasiOnlineService.dataBooking.next(""),this.registrasiOnlineService.createSuratKontrolStatus.next(!1),this.registrasiOnlineService.saveStatus.next(!1),sessionStorage.removeItem("jadwalDokter"),sessionStorage.removeItem("jenisPembayaran"),sessionStorage.removeItem("peserta"),sessionStorage.removeItem("rujukan"),sessionStorage.removeItem("suratKontrol"),sessionStorage.removeItem("pasien")}captureImage(){setTimeout(()=>{this.captureService.getImage(this.screen.nativeElement,!0).pipe((0,T.b)(n=>{this.imageCapture=n})).subscribe()},100)}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(d.S),e.Y36(v.Q7))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-success"]],viewQuery:function(n,t){if(1&n&&e.Gf(V,7),2&n){let s;e.iGM(s=e.CRH())&&(t.screen=s.first)}},decls:31,vars:3,consts:[[1,"container-fluid","p-3"],[1,"row","justify-content-center"],[1,"col-lg-4","col-md-7","col-sm-12"],[1,"p-3"],["screen",""],[1,"text-center"],["src","assets/hesti.png","height","62px",1,"mb-3"],["class","border p-3 bg-gray-100 mt-4","style","background-color: #f4f5f8; border-radius: 15px;",4,"ngIf"],[1,"p-3","pt-0"],[1,"d-grid","mb-5"],["title","ImageName",1,"btn","btn-primary",3,"download","href"],[1,"bi","bi-cloud-download"],[1,"text-center","p-0","mt-0","mt-1"],[2,"position","fixed","bottom","0","width","100%","left","0","z-index","-1"],["width","100%","height","100%","id","svg","viewBox","0 0 1440 600","xmlns","http://www.w3.org/2000/svg",1,"transition","duration-300","ease-in-out","delay-150"],["id","gradient","x1","0%","y1","51%","x2","100%","y2","49%"],["offset","5%","stop-color","#ff690088"],["offset","95%","stop-color","#00d08488"],["d","M 0,600 C 0,600 0,200 0,200 C 126.64114832535887,231.5311004784689 253.28229665071774,263.0622009569378 341,240 C 428.71770334928226,216.9377990430622 477.51196172248797,139.2822966507177 568,143 C 658.488038277512,146.7177033492823 790.66985645933,231.80861244019138 896,244 C 1001.33014354067,256.1913875598086 1079.8086124401914,195.48325358851676 1166,176 C 1252.1913875598086,156.51674641148324 1346.0956937799042,178.25837320574163 1440,200 C 1440,200 1440,600 1440,600 Z","stroke","none","stroke-width","0","fill","url(#gradient)",1,"transition-all","duration-300","ease-in-out","delay-150","path-0"],["offset","5%","stop-color","#ff6900ff"],["offset","95%","stop-color","#00d084ff"],["d","M 0,600 C 0,600 0,400 0,400 C 67.75119617224877,435.07177033492826 135.50239234449754,470.14354066985646 235,468 C 334.49760765550246,465.85645933014354 465.7416267942584,426.49760765550246 575,391 C 684.2583732057416,355.50239234449754 771.5311004784689,323.86602870813397 860,345 C 948.4688995215311,366.13397129186603 1038.1339712918661,440.0382775119617 1135,458 C 1231.8660287081339,475.9617224880383 1335.933014354067,437.98086124401914 1440,400 C 1440,400 1440,600 1440,600 Z","stroke","none","stroke-width","0","fill","url(#gradient)",1,"transition-all","duration-300","ease-in-out","delay-150","path-1"],[1,"border","p-3","bg-gray-100","mt-4",2,"background-color","#f4f5f8","border-radius","15px"],["align","center",1,"mb-4"],[1,"mt-3"],[1,"text-center","mb-2"],[1,"bold","bg-white","rounded","p-1","border","fs-5"],[1,"text-center","rounded","border","bg-white"],[1,"bold","fs-5"],["size","210","errorCorrectionLevel","M",3,"value","margin"],[1,"p-2","text-center"],["hidden",""],[1,"p-3","bg-white","border","rounded"],[1,"text-muted"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3,4),e.TgZ(5,"div",5),e._UZ(6,"img",6),e.TgZ(7,"h4"),e._uU(8,"RUMKIT TK II Prof. dr. J.A. LATUMETEN AMBON"),e.qZA(),e.qZA(),e.YNc(9,W,59,11,"div",7),e.qZA(),e.TgZ(10,"div",8),e.TgZ(11,"div",9),e.TgZ(12,"a",10),e._UZ(13,"i",11),e._uU(14,"\xa0 Download "),e.qZA(),e.TgZ(15,"p",12),e.TgZ(16,"i"),e.TgZ(17,"small"),e._uU(18,"Silahkan download untuk menyimpan bukti registrasi."),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",13),e.O4$(),e.TgZ(20,"svg",14),e.TgZ(21,"defs"),e.TgZ(22,"linearGradient",15),e._UZ(23,"stop",16),e._UZ(24,"stop",17),e.qZA(),e.qZA(),e._UZ(25,"path",18),e.TgZ(26,"defs"),e.TgZ(27,"linearGradient",15),e._UZ(28,"stop",19),e._UZ(29,"stop",20),e.qZA(),e.qZA(),e._UZ(30,"path",21),e.qZA(),e.qZA()),2&n&&(e.xp6(9),e.Q6J("ngIf",t.booking),e.xp6(3),e.MGl("download","Registrasi-Online-RS-Salak-",t.booking.kodeBooking,".jpg"),e.s9C("href",t.imageCapture,e.LSH))},directives:[l.O5,A.uU],styles:[""]}),i})()}];let ie=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[g.Bz.forChild(ne)],g.Bz]}),i})(),te=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[l.ez,p.S,k._8,u.u5,ie,A.OF,_.EV]]}),i})()}}]);